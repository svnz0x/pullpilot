# Ruta raíz donde buscar proyectos Compose
BASE_DIR="/srv/compose"

# Logs y lock
LOG_DIR="/var/log/docker-updater"
LOCK_FILE="/var/lock/docker-updater.lock"
LOG_RETENTION_DAYS=14

# Email (msmtp recomendado)
EMAIL_TO="[email protected]"
EMAIL_FROM="homelab <[email protected]>"
SUBJECT_PREFIX="[docker-updater]"
SMTP_CMD="msmtp"           # msmtp|mailx|sendmail
SMTP_ACCOUNT="default"    # si usas msmtp con perfiles
SMTP_READ_ENVELOPE=true    # usa cabeceras From/To del mensaje (msmtp)

# Docker / Compose
DOCKER_TIMEOUT=120         # segundos para --wait-timeout y -t
QUIET_PULL=true            # --quiet-pull
# always|missing|never. "always" fuerza un pull previo, "missing" confía en
# `up --pull missing` cuando está soportado (si no, cae en pull completo) y
# "never" omite el pull explícito.
PULL_POLICY="always"
PARALLEL_PULL=0            # 0 = por defecto, >0 limita la paralelización

# Excluir directorios por nombre o ruta parcial
EXCLUDE_PATTERNS=".git node_modules backup tmp"

# Lista explícita de proyectos (uno por línea). Si se define, ignora BASE_DIR recursivo
#COMPOSE_PROJECTS_FILE="/etc/docker-updater/projects.txt"

# Adjuntar logs en el email: changes|always|never
ATTACH_LOGS_ON="changes"

# Prune opcional
PRUNE_ENABLED=false
PRUNE_VOLUMES=false        # ¡Peligroso! Borra volúmenes anónimos
# PRUNE_FILTER_UNTIL="168h"  # alternativa segura: borra imágenes sin uso >7 días

# Modo simulación
DRY_RUN=false